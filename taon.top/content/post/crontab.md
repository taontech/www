---
title: "Crontab"
date: 2022-03-18T18:37:18+08:00
---
# 定时执行的脚本
##背景 
项目在开发过程中，我们的代码是托管在coding上面的，而服务器上面的代码的更新部署是使用git的，这就导致了，我每次都需要登录到那台服务器，然后进入项目的目录，执行git命令更新，但是在开发阶段，我们的代码更新的频率太高了，可不可以做到实时更新呢，其实git上面有git hocks，也就是钩子的概念，但是那个相对复杂，如果无法做到实时，那么定时可不可以，是可以的，利用shell脚本和crontab。 ###实际操作 首先要了解crontab,这这篇文写的不错，但是我没仔细看，因为我发现了，我可以直接使用下面这个命令来做

## 在Linux
```
crontab -e
```

然后就会进入一个vi的编辑模式，在里面就可以参照上面文章里面的写你的定时器了，我写了一个5分钟更新一次的定时器
```
*/5 * * * * /home/shell/sks-pull.sh
```

很简单，就是没5分钟执行一下这个脚本，脚本的内容是这样的
```
‘#!/bin/sh’
PATH="/home/wwwroot/BFLMobileMall"
cd $PATH
/usr/bin/git pull
```

很简单的一个脚本，这就可以实现没5分钟pull一次我的代码了

### 后记 
这里有一些东西需要说明一下，定时脚本在更新了以后，里面的一些执行成功失败的语句，会保存下来，具体在哪里呢，其实每次登录服务器都会有提醒
您在 /var/spool/mail/root 中有新邮件
然后你就可以看到你的脚本有没有执行成功了


### 注意

** sh 文件要执行需要 +x 权限。**